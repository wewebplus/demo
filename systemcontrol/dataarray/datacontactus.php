<?php
$Array_Mod_Lang["txt:Detail Head"]["TH"] = "ระบบจัดการ Content";
$Array_Mod_Lang["txt:Detail Head"]["EN"] = "Manage Content system";
$Array_Mod_Lang["txt:Detail Head"]["CN"] = "Manage Content system";
$Array_Mod_Lang["txt:Detail Head"]["JP"] = "Manage Content system";
$Array_Mod_Lang["txt:Detail Head"]["DE"] = "Manage Content system";
$Array_Mod_Lang["txt:Detail Head"]["FR"] = "Manage Content system";
$Array_Mod_Lang["txt:Detail Head"]["ES"] = "Manage Content system";
$Array_Mod_Lang["txt:Detail Head"]["KR"] = "Manage Content system";
$Array_Mod_Lang["txt:Detail Head"]["AED"] = "Manage Content system";

$Array_Mod_Lang["txt:Head 01"]["TH"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["EN"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["CN"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["JP"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["DE"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["FR"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["ES"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["KR"] = "Contact Information";
$Array_Mod_Lang["txt:Head 01"]["AED"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["TH"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["EN"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["CN"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["JP"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["DE"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["FR"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["ES"] = "Contact Information";
$Array_Mod_Lang["txt:Head 02"]["KR"] = "Contact Information";

$Array_Mod_Lang["txt:Group Head 01"]["TH"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["EN"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["CN"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["JP"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["DE"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["FR"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["ES"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["KR"] = "Contact Group Information";
$Array_Mod_Lang["txt:Group Head 01"]["AED"] = "Contact Group Information";

$Array_Mod_Lang["txtinput:inputGroupSubject"]["TH"] = "กลุ่มติดต่อ";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["EN"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["CN"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["JP"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["DE"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["FR"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["ES"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["KR"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupSubject"]["AED"] = "Subject Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["TH"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["EN"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["CN"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["JP"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["DE"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["FR"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["ES"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["KR"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupTitle"]["AED"] = "Title Contact  Group";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["TH"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["EN"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["CN"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["JP"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["DE"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["FR"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["ES"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["KR"] = "Contact Email To";
$Array_Mod_Lang["txtinput:inputGroupEmail"]["AED"] = "Contact Email To";

$Array_Mod_Lang["txtinput:inputContactDate"]["TH"] = "Contact Date";
$Array_Mod_Lang["txtinput:inputContactDate"]["EN"] = "Contact Date";
$Array_Mod_Lang["txtinput:inputContactName"]["TH"] = "Contact Name";
$Array_Mod_Lang["txtinput:inputContactName"]["EN"] = "Contact Name";
$Array_Mod_Lang["txtinput:inputContactEmail"]["TH"] = "Contact Email";
$Array_Mod_Lang["txtinput:inputContactEmail"]["EN"] = "Contact Email";
$Array_Mod_Lang["txtinput:inputContactTel"]["TH"] = "Contact Phone";
$Array_Mod_Lang["txtinput:inputContactTel"]["EN"] = "Contact Phone";
$Array_Mod_Lang["txtinput:inputContactCompany"]["TH"] = "Contact Company";
$Array_Mod_Lang["txtinput:inputContactCompany"]["EN"] = "Contact Company";
$Array_Mod_Lang["txtinput:inputContactSubject"]["TH"] = "Contact Subject";
$Array_Mod_Lang["txtinput:inputContactSubject"]["EN"] = "Contact Subject";
$Array_Mod_Lang["txtinput:inputContactMessage"]["TH"] = "Contact Message";
$Array_Mod_Lang["txtinput:inputContactMessage"]["EN"] = "Contact Message";
$Array_Mod_Lang["txtinput:inputContactMessageReply"]["TH"] = "Contact Message Reply";
$Array_Mod_Lang["txtinput:inputContactMessageReply"]["EN"] = "Contact Message Reply";


$arrinStatusContactBtnClass["TH"]["New"] = "btn-info";
$arrinStatusContactBtnClass["TH"]["Read"] = "btn-alert";
$arrinStatusContactBtnClass["EN"]["New"] = "btn-info";
$arrinStatusContactBtnClass["EN"]["Read"] = "btn-alert";

$arrinContactStatus["TH"]["New"] = "มาใหม่";
$arrinContactStatus["TH"]["Read"] = "อ่านแล้ว";

$arrinContactStatus["EN"]["New"] = "Enable";
$arrinContactStatus["EN"]["Read"] = "Disable";

$z = new __webctrl;
$inmodulekey = array_keys($menuFolder, "contactus");

$pathupload = _RELATIVE_PATH_UPLOAD_;
foreach($inmodulekey as $kModuleKey=>$vModuleKey){
	$LMId = "Admin".$vModuleKey;
  $LMModuleKey = $menuModuleKey[$vModuleKey];
  $dataGroupMathching[$LMId] = $LMModuleKey;
  $arrinkey = array();
  array_push($arrinkey, $LMId, $LMModuleKey);
	$pathuploadmodule = $pathupload."/".$LMModuleKey."/";
	$sql = "";
	$arrfmain = array();
	$arrfmain[] = "TB.ID";
	$arrfmain[] = "IF(TB.Subject".$_SESSION['Session_Admin_Language']." IS NULL or TB.Subject".$_SESSION['Session_Admin_Language']." = '', TB.SubjectEN, TB.Subject".$_SESSION['Session_Admin_Language'].") as Name";
	$sql .= "SELECT ".implode(',',$arrfmain)." FROM ";
	$sql .= " (";
		$arrf = array();
		$arrf[] = "a."._TABLE_CONTACT_GROUP_.'_ID AS ID';
		$arrf[] = "a."._TABLE_CONTACT_GROUP_.'_Status AS ListStatus';
		$arrf[] = "a."._TABLE_CONTACT_GROUP_.'_Order AS ListOrder';
		foreach($systemLang as $lkey=>$lval){
			$arrf[] = $lkey."."._TABLE_CONTACT_GROUP_DETAIL_."_ID AS SubjectID".$lkey;
			$arrf[] = $lkey."."._TABLE_CONTACT_GROUP_DETAIL_."_Subject AS Subject".$lkey;
			$arrf[] = $lkey."."._TABLE_CONTACT_GROUP_DETAIL_."_Email AS Email".$lkey;
			$arrf[] = $lkey."."._TABLE_CONTACT_GROUP_DETAIL_."_Status AS Status".$lkey;
		}
		$sql .= "SELECT  ".implode(',',$arrf)." FROM "._TABLE_CONTACT_GROUP_." a";
		foreach($systemLang as $lkey=>$lval){
			$sql .= " LEFT JOIN "._TABLE_CONTACT_GROUP_DETAIL_." ".$lkey." ON (a."._TABLE_CONTACT_GROUP_."_ID = ".$lkey."."._TABLE_CONTACT_GROUP_DETAIL_."_ContentID AND ".$lkey."."._TABLE_CONTACT_GROUP_DETAIL_."_Lang = '".$lkey."')";
		}
		$sql .= " WHERE a."._TABLE_CONTACT_GROUP_."_Key IN ('".implode("','",$arrinkey)."')";
		unset($arrf);
	$sql .= ") TB";
	$sql .= " WHERE 1";
	$sql .= " ORDER BY TB.ListOrder DESC";
	$z->sql($sql);
	$RecordCount = $z->num();
	$arrGroup = array();
	if($RecordCount>0){
	  $v = $z->row();
	  foreach($v as $KRow=>$Row){
	    $arr = array();
	    $arr["ID"] = $Row["ID"];
	    $arr["Name"] = $Row["Name"];
	    $arr["Color"] = $GroupSetColor[$KRow];
	    $arrGroup[] = $arr;
	  }
	}
	$defaultdata[$LMId]["modulekey"] = $arrinkey;
	$defaultdata[$LMId]["group"] = $arrGroup;
}
?>
